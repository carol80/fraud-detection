<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Dashboard</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans" rel="stylesheet">
    <link rel="stylesheet" href="css/main.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.js"></script> 
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="js/makeChart.js"></script>
  </head>
  <body>
    
  </body>


<div class="chart-container">
  <h3>Chart</h3>
  <canvas id="myChart"></canvas>
</div>

<style>

.charts .chart-container {
  background-color: #313348;
  padding: 15px;
}
.charts .chart-container h3 {
  margin: 0 0 10px;
  font-size: 17px;
}
.chrt3 .chart-container {
  height: 350px;
  padding: 15px;
  margin-top: 25px;
}

</style>
<!-- 
<script>

  Chart.defaults.global.animation.duration = 2000; // Animation duration
  Chart.defaults.global.title.display = false; // Remove title
  Chart.defaults.global.title.text = "Chart"; // Title
  Chart.defaults.global.title.position = 'bottom'; // Title position
  Chart.defaults.global.defaultFontColor = '#999'; // Font color
  Chart.defaults.global.defaultFontSize = 10; // Font size for every label

  // Chart.defaults.global.tooltips.backgroundColor = '#FFF'; // Tooltips background color
  Chart.defaults.global.tooltips.borderColor = 'white'; // Tooltips border color
  Chart.defaults.global.legend.labels.padding = 0;
  Chart.defaults.scale.ticks.beginAtZero = true;
  Chart.defaults.scale.gridLines.zeroLineColor = 'rgba(255, 255, 255, 0.1)';
  Chart.defaults.scale.gridLines.color = 'rgba(255, 255, 255, 0.02)';

  Chart.defaults.global.legend.display = false;

  email_list= []
  count_list =[]

  async function getJson(){
    var response = await fetch('/getBarData');
    var jsondata = await response.json();

    return jsondata
}



var chart = document.getElementById('myChart');
    var myChart = new Chart(chart, {
        type: 'bar',
        data: {
            labels: ['prince','rrrr','hxxs','sjkjsks','snkwnk'],
            datasets: [{
            label: "Count",
            fill: false,
            lineTension: 0,
            data: [1,2,6,3,4],
            pointBorderColor: "#4bc0c0",
            borderColor: '#4bc0c0',
            borderWidth: 2,
            showLine: true,
            }]
        },
    });

// getJson().then( data => {
//     count_list = data.counts
//     email_list = data.emails
//     var chart = document.getElementById('myChart');
//     var myChart = new Chart(chart, {
//         type: 'bar',
//         data: {
//             labels: count_list,
//             datasets: [{
//             label: "Count",
//             fill: false,
//             lineTension: 0,
//             data: count_list,
//             pointBorderColor: "#4bc0c0",
//             borderColor: '#4bc0c0',
//             borderWidth: 2,
//             showLine: true,
//             }]
//         },
//     });
// })
// setInterval(()=>{
//   getJson().then( data => {
//     count_list = data.counts
//     email_list = data.emails
//     var chart = document.getElementById('myChart');
//     var myChart = new Chart(chart, {
//         type: 'bar',
//         data: {
//           labels: count_list,
//             datasets: [{
//             label: "Count",
//             fill: false,
//             lineTension: 0,
//             data: count_list,
//             pointBorderColor: "#4bc0c0",
//             borderColor: '#4bc0c0',
//             borderWidth: 2,
//             showLine: true,
//             }]
//         },
//     });
// })
},10000)

</script> -->



<script>
  /*global $, console*/
  /*
    By Mostafa Omar
    https://www.facebook.com/MostafaOmarIbrahiem
  */
  $(function () {
  
  'use strict';
  
  (function () {
  
    var aside = $('.side-nav'),
  
        showAsideBtn = $('.show-side-btn'),
  
        contents = $('#contents');
  
    showAsideBtn.on("click", function () {
  
      $("#" + $(this).data('show')).toggleClass('show-side-nav');
  
      contents.toggleClass('margin');
  
    });
  
    if ($(window).width() <= 767) {
  
      aside.addClass('show-side-nav');
  
    }
    $(window).on('resize', function () {
  
      if ($(window).width() > 767) {
  
        aside.removeClass('show-side-nav');
  
      }
  
    });
  
    // dropdown menu in the side nav
    var slideNavDropdown = $('.side-nav-dropdown');
  
    $('.side-nav .categories li').on('click', function () {
  
      $(this).toggleClass('opend').siblings().removeClass('opend');
  
      if ($(this).hasClass('opend')) {
  
        $(this).find('.side-nav-dropdown').slideToggle('fast');
  
        $(this).siblings().find('.side-nav-dropdown').slideUp('fast');
  
      } else {
  
        $(this).find('.side-nav-dropdown').slideUp('fast');
  
      }
  
    });
  
    $('.side-nav .close-aside').on('click', function () {
  
      $('#' + $(this).data('close')).addClass('show-side-nav');
  
      contents.removeClass('margin');
  
    });
  
  }());
  
  // Start chart
  Chart.defaults.global.animation.duration = 2000; // Animation duration
  Chart.defaults.global.title.display = false; // Remove title
  Chart.defaults.global.title.text = "Chart"; // Title
  Chart.defaults.global.title.position = 'bottom'; // Title position
  Chart.defaults.global.defaultFontColor = '#999'; // Font color
  Chart.defaults.global.defaultFontSize = 10; // Font size for every label

  // Chart.defaults.global.tooltips.backgroundColor = '#FFF'; // Tooltips background color
  Chart.defaults.global.tooltips.borderColor = 'white'; // Tooltips border color
  Chart.defaults.global.legend.labels.padding = 0;
  Chart.defaults.scale.ticks.beginAtZero = true;
  Chart.defaults.scale.gridLines.zeroLineColor = 'rgba(255, 255, 255, 0.1)';
  Chart.defaults.scale.gridLines.color = 'rgba(255, 255, 255, 0.02)';

  Chart.defaults.global.legend.display = false;

  // var chart = document.getElementById('myChart');
  var chart = document.getElementById('myChart');
    var myChart = new Chart(chart, {
        type: 'bar',
        data: {
            labels: ['prince','rrrr','hxxs','sjkjsks','snkwnk'],
            datasets: [{
            label: "Count",
            fill: false,
            lineTension: 0,
            data: [1,2,6,3,4],
            pointBorderColor: "#4bc0c0",
            borderColor: '#4bc0c0',
            borderWidth: 2,
            showLine: true,
            }]
        },
    });
  
  
  });
  </script>